業務OSの中核：Repaper Route 設計構想書 本プロジェクト「坪野谷紙業厚木事業所 DXプロジェクト(業務OS)」において、DXの中核となるアプリケーションは\*\*「Repaper Route(インテリジェント動的配車管理アプリケーション)」**です。 このアプリは単なる業務ツールではなく、プロジェクト全体の思想（DX設計憲法）を具現化する**「リファレンス実装（参照基準）」であり、すべての業務データの起点となる「業務OSの中核」\*\*として位置づけられています。 以下に、なぜこれが中核なのかという「理由」と、その「詳細な機能・役割」について解説します。

1. なぜ中核なのか？（理由） このアプリが中核とされる理由は、業務プロセスの中で最もリスクが高く、事業の成否を決定づける\*\*「配車計画」フェーズを支配・保護するため**です。 • 事業リスクの震源地（エピセンター）の保護: 「配車計画」フェーズは、起床後から出社前のわずか30〜40分で行われる**「高密度・高リスク・不可逆」**な業務です。ここで発生した判断ミス（人員不足の見落とし、定期回収の抜け）は、その日1日の業務全体を破綻させ、後工程での回復が困難です。この「震源地」をデジタル技術で守ることが、DXの最大の投資対効果を生むため、最優先かつ中核として開発されています。 • 「業務OS」の基盤構築: このアプリは、「SDRモデル（状態・判断・理由）」や「二段階確定モデル」といった、全アプリが共通して従うべき**「データの作法（プロトコル）」**を最初に実装する場です。将来開発される「シフト管理」や「車両予約」などのアプリは、この中核アプリが管理するデータ（人や車の状態）を参照する「衛星」として機能します。 • 判断と実行の分離: 本プロジェクトでは「判断（Decision）」と「実行（Execution）」を明確に分離しています。このアプリは**「判断（配車計画の確定）」\*\*を担う司令塔であり、現場のドライバーが使うアプリは、ここで下された判断を受動的に受け取る「実行ユニット」に過ぎません。  
2. アプリケーションの詳細説明 このアプリは、配車担当者が「配車計画」フェーズにおいて、迷いなく安全に意思決定を下すための\*\*「コックピット」\*\*として設計されています。 ① 中核機能：動的配車ガントチャート • 直感的な操作と精密な管理: 縦軸にドライバー/コース、横軸に時間（06:00〜18:00等）をとったガントチャート形式です。1時間あたり128px、最小単位15分（32px）という物理的なピクセル定義に基づき、ドラッグ＆ドロップで直感的に操作できます。 • 制約レイヤー（ガードレール）: 操作に対し、以下の3段階の制約がリアルタイムで適用されます。 ◦ レベル1（法的・物理的制約）: 免許不一致や車両固定区間（帰社まで変更不可）などは、操作自体を物理的にブロック（赤枠表示）します。 ◦ レベル2（業務制約）: 時間指定のズレなどは、警告（黄色枠）を出した上で、承認理由の入力を求めて許可します。 ◦ レベル3（最適化条件）: 効率などはヒントとして表示します。 ② 核心ロジック：二段階確定モデル 計画と現実を混同させないため、以下のプロセスを強制します。  
3. 一次確定（Primary Confirmation）: 業務開始前に「今日の計画はこれで行く」と責任を持って宣言する操作です。これによりデータはconfirmed状態になり、ロックされます（正史の確定）。  
4. 例外イベント記録: 確定後に発生した変更（急な欠勤、車両トラブル）は、計画の上書きではなく「例外イベント」として記録されます。これにより、「当初の計画はどうだったか」と「実際どう変えたか」の両方が履歴として残ります。 ③ 外部連携とSDRの実践 • 情報の入力元（Input Source）: Googleスプレッドシート（休みシフト）を「入力UI」として扱い、そこから当日の「人・車の稼働状況」を同期エンジンが自動で読み込みます。これにより、アプリ上で「休み」の人には物理的に配車できないようロックがかかります。 • SDRモデルの徹底: すべての操作において「誰が（Actor）」「いつ（Timestamp）」「なぜ（Reason）」その判断をしたかが記録されます。特に例外的な操作には、リスト選択式＋自由記述による「理由」の入力がシステム的に強制されます。 結論 この「Repaper Route」は、単なるスケジュール表ではありません。 \*\*「配車計画」という高度な知的作業を、個人の頭の中から「構造化されたシステム」へと移管し、業務事故を構造的に防ぐための「安全装置兼司令塔」\*\*です。

